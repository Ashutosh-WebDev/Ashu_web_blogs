{"ast":null,"code":"var _jsxFileName = \"D:\\\\web dev\\\\Ashu_web_blogs\\\\frontend-new\\\\src\\\\components\\\\BlogForm.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { TextField, Button, Box, CircularProgress, Typography, IconButton } from '@mui/material';\nimport { Image as ImageIcon, Close } from '@mui/icons-material';\nimport { isValidGoogleDocsUrl } from '../utils/validation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Custom hook for handling image URLs with fallbacks\nconst useImageWithFallback = url => {\n  _s();\n  const [imageUrl, setImageUrl] = useState('');\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    if (!url) {\n      setImageUrl('');\n      setError(null);\n      return;\n    }\n    let isMounted = true;\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n\n    const tryUrl = async (testUrl, isFallback = false) => {\n      if (!isMounted) return;\n      try {\n        setIsLoading(true);\n        setError(null);\n\n        // First, try a HEAD request to check if the URL is accessible\n        const response = await fetch(testUrl, {\n          method: 'HEAD',\n          signal: controller.signal,\n          mode: 'no-cors' // This is just to check if the URL is reachable\n        });\n\n        // If we get here, the URL is accessible\n        if (isMounted) {\n          setImageUrl(testUrl);\n          setError(null);\n        }\n      } catch (err) {\n        if (!isMounted) return;\n        if (!isFallback) {\n          // Try with a CORS proxy as fallback\n          const proxyUrl = `https://corsproxy.io/?${encodeURIComponent(testUrl)}`;\n          await tryUrl(proxyUrl, true);\n        } else {\n          setError('Could not load image. The URL may be invalid or the server may be blocking access.');\n          setImageUrl('');\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n    tryUrl(url);\n    return () => {\n      isMounted = false;\n      clearTimeout(timeoutId);\n      controller.abort();\n    };\n  }, [url]);\n  return {\n    imageUrl,\n    error,\n    isLoading\n  };\n};\n_s(useImageWithFallback, \"2x5l7Z40YCecdyAdbOTAHJpTH9U=\");\nconst BlogForm = ({\n  initialData,\n  onSubmit,\n  onCancel,\n  loading = false\n}) => {\n  _s2();\n  const [formData, setFormData] = useState({\n    title: '',\n    googleDriveLink: '',\n    image: null\n  });\n  const [imagePreview, setImagePreview] = useState('');\n  const [errors, setErrors] = useState({});\n  const fileInputRef = useRef(null);\n\n  // Initialize form with initialData if provided\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        title: initialData.title || '',\n        googleDriveLink: initialData.googleDriveLink || '',\n        image: null\n      });\n      // If there's an existing image, show it as a preview\n      if (initialData.image) {\n        if (typeof initialData.image === 'string') {\n          setImagePreview(initialData.image);\n        } else if ('data' in initialData.image) {\n          // Handle BlogImage object\n          const mimeType = initialData.image.contentType || 'image/jpeg';\n          setImagePreview(`data:${mimeType};base64,${initialData.image.data}`);\n        }\n      }\n    }\n  }, [initialData]);\n\n  // Handle file selection\n  const handleFileChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n\n    // Check file type\n    const validTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n    if (!validTypes.includes(file.type)) {\n      setErrors(prev => ({\n        ...prev,\n        image: 'Please select a valid image file (JPEG, PNG, GIF, or WebP)'\n      }));\n      return;\n    }\n\n    // Check file size (5MB max)\n    if (file.size > 5 * 1024 * 1024) {\n      setErrors(prev => ({\n        ...prev,\n        image: 'Image size should be less than 5MB'\n      }));\n      return;\n    }\n\n    // Create preview\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const result = reader.result;\n      setImagePreview(result);\n      setFormData(prev => ({\n        ...prev,\n        image: file\n      }));\n    };\n    reader.readAsDataURL(file);\n\n    // Clear any previous errors\n    if (errors.image) {\n      setErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors.image;\n        return newErrors;\n      });\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title.trim()) {\n      newErrors.title = 'Title is required';\n    }\n    if (!formData.googleDriveLink) {\n      newErrors.googleDriveLink = 'Google Drive link is required';\n    } else if (!isValidGoogleDocsUrl(formData.googleDriveLink)) {\n      newErrors.googleDriveLink = 'Please enter a valid Google Docs URL';\n    }\n\n    // Image is optional, no validation needed beyond what's in handleFileChange\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error for the field being edited\n    if (errors[name]) {\n      setErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    try {\n      const formDataToSubmit = new FormData();\n      formDataToSubmit.append('title', formData.title);\n      formDataToSubmit.append('googleDriveLink', formData.googleDriveLink);\n      if (formData.image) {\n        formDataToSubmit.append('image', formData.image);\n      }\n      await onSubmit(formDataToSubmit);\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      setErrors(prev => ({\n        ...prev,\n        form: 'Failed to submit form. Please try again.'\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: \"form\",\n    onSubmit: handleSubmit,\n    noValidate: true,\n    sx: {\n      mt: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      id: \"title\",\n      label: \"Blog Title\",\n      name: \"title\",\n      autoComplete: \"off\",\n      autoFocus: true,\n      value: formData.title,\n      onChange: handleChange,\n      error: !!errors.title,\n      helperText: errors.title,\n      disabled: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      name: \"googleDriveLink\",\n      label: \"Google Drive Document Link\",\n      type: \"url\",\n      id: \"googleDriveLink\",\n      autoComplete: \"off\",\n      value: formData.googleDriveLink,\n      onChange: handleChange,\n      error: !!errors.googleDriveLink,\n      helperText: errors.googleDriveLink || 'Make sure the document is shared with \"Anyone with the link\"',\n      disabled: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      mb: 2,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        gutterBottom: true,\n        children: \"Upload Blog Image (Optional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mb: 3,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          component: \"label\",\n          startIcon: /*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 24\n          }, this),\n          fullWidth: true,\n          sx: {\n            mb: 2\n          },\n          children: [formData.image ? 'Change Image' : 'Select Image', /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            hidden: true,\n            accept: \"image/*\",\n            onChange: handleFileChange,\n            ref: fileInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), errors.image && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          variant: \"caption\",\n          display: \"block\",\n          sx: {\n            mt: 1,\n            mb: 1\n          },\n          children: errors.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this), imagePreview && /*#__PURE__*/_jsxDEV(Box, {\n          mt: 2,\n          textAlign: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            display: \"block\",\n            gutterBottom: true,\n            children: \"Image Preview:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: 'relative',\n              maxWidth: '100%',\n              margin: '0 auto',\n              display: 'inline-block'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: imagePreview,\n              alt: \"Preview\",\n              style: {\n                maxWidth: '100%',\n                maxHeight: '300px',\n                borderRadius: '4px',\n                border: '1px solid #ddd',\n                objectFit: 'contain'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: () => {\n                setImagePreview('');\n                setFormData(prev => ({\n                  ...prev,\n                  image: null\n                }));\n                if (fileInputRef.current) {\n                  fileInputRef.current.value = '';\n                }\n              },\n              sx: {\n                position: 'absolute',\n                top: 8,\n                right: 8,\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                color: 'white',\n                '&:hover': {\n                  backgroundColor: 'rgba(0, 0, 0, 0.7)'\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 3,\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      gap: 2,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: onCancel,\n        variant: \"outlined\",\n        disabled: loading,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: loading,\n        startIcon: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 32\n        }, this) : null,\n        children: initialData ? 'Update Post' : 'Create Post'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 5\n  }, this);\n};\n_s2(BlogForm, \"sInJo+Ma0e6MMLOAfJ5iKoueIsQ=\");\n_c = BlogForm;\nexport default BlogForm;\nvar _c;\n$RefreshReg$(_c, \"BlogForm\");","map":{"version":3,"names":["React","useState","useEffect","useRef","TextField","Button","Box","CircularProgress","Typography","IconButton","Image","ImageIcon","Close","isValidGoogleDocsUrl","jsxDEV","_jsxDEV","useImageWithFallback","url","_s","imageUrl","setImageUrl","error","setError","isLoading","setIsLoading","isMounted","controller","AbortController","timeoutId","setTimeout","abort","tryUrl","testUrl","isFallback","response","fetch","method","signal","mode","err","proxyUrl","encodeURIComponent","clearTimeout","BlogForm","initialData","onSubmit","onCancel","loading","_s2","formData","setFormData","title","googleDriveLink","image","imagePreview","setImagePreview","errors","setErrors","fileInputRef","mimeType","contentType","data","handleFileChange","e","_e$target$files","file","target","files","validTypes","includes","type","prev","size","reader","FileReader","onloadend","result","readAsDataURL","newErrors","validateForm","trim","Object","keys","length","handleChange","name","value","handleSubmit","preventDefault","formDataToSubmit","FormData","append","console","form","component","noValidate","sx","mt","children","margin","required","fullWidth","id","label","autoComplete","autoFocus","onChange","helperText","disabled","fileName","_jsxFileName","lineNumber","columnNumber","mb","variant","gutterBottom","startIcon","hidden","accept","ref","color","display","textAlign","position","maxWidth","src","alt","style","maxHeight","borderRadius","border","objectFit","onClick","current","top","right","backgroundColor","justifyContent","gap","_c","$RefreshReg$"],"sources":["D:/web dev/Ashu_web_blogs/frontend-new/src/components/BlogForm.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, ChangeEvent } from 'react';\nimport {\n  TextField,\n  Button,\n  Box,\n  CircularProgress,\n  Typography,\n  IconButton,\n} from '@mui/material';\nimport { Image as ImageIcon, Close } from '@mui/icons-material';\nimport { BlogFormData } from '../types';\nimport { isValidGoogleDocsUrl } from '../utils/validation';\n\ninterface BlogFormState {\n  title: string;\n  googleDriveLink: string;\n  image?: File | null;\n}\n\ninterface BlogFormProps {\n  initialData?: BlogFormData;\n  onSubmit: (data: FormData) => Promise<void> | void;\n  onCancel: () => void;\n  loading?: boolean;\n}\n\n// Custom hook for handling image URLs with fallbacks\nconst useImageWithFallback = (url: string) => {\n  const [imageUrl, setImageUrl] = useState<string>('');\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (!url) {\n      setImageUrl('');\n      setError(null);\n      return;\n    }\n\n    let isMounted = true;\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n\n    const tryUrl = async (testUrl: string, isFallback = false) => {\n      if (!isMounted) return;\n      \n      try {\n        setIsLoading(true);\n        setError(null);\n        \n        // First, try a HEAD request to check if the URL is accessible\n        const response = await fetch(testUrl, {\n          method: 'HEAD',\n          signal: controller.signal,\n          mode: 'no-cors', // This is just to check if the URL is reachable\n        });\n\n        // If we get here, the URL is accessible\n        if (isMounted) {\n          setImageUrl(testUrl);\n          setError(null);\n        }\n      } catch (err) {\n        if (!isMounted) return;\n        \n        if (!isFallback) {\n          // Try with a CORS proxy as fallback\n          const proxyUrl = `https://corsproxy.io/?${encodeURIComponent(testUrl)}`;\n          await tryUrl(proxyUrl, true);\n        } else {\n          setError('Could not load image. The URL may be invalid or the server may be blocking access.');\n          setImageUrl('');\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    tryUrl(url);\n\n    return () => {\n      isMounted = false;\n      clearTimeout(timeoutId);\n      controller.abort();\n    };\n  }, [url]);\n\n  return { imageUrl, error, isLoading };\n};\n\nconst BlogForm: React.FC<BlogFormProps> = ({\n  initialData,\n  onSubmit,\n  onCancel,\n  loading = false,\n}) => {\n  const [formData, setFormData] = useState<BlogFormState>({\n    title: '',\n    googleDriveLink: '',\n    image: null\n  });\n  const [imagePreview, setImagePreview] = useState<string>('');\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Initialize form with initialData if provided\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        title: initialData.title || '',\n        googleDriveLink: initialData.googleDriveLink || '',\n        image: null\n      });\n      // If there's an existing image, show it as a preview\n      if (initialData.image) {\n        if (typeof initialData.image === 'string') {\n          setImagePreview(initialData.image);\n        } else if ('data' in initialData.image) {\n          // Handle BlogImage object\n          const mimeType = initialData.image.contentType || 'image/jpeg';\n          setImagePreview(`data:${mimeType};base64,${initialData.image.data}`);\n        }\n      }\n    }\n  }, [initialData]);\n\n  // Handle file selection\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Check file type\n    const validTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n    if (!validTypes.includes(file.type)) {\n      setErrors(prev => ({\n        ...prev,\n        image: 'Please select a valid image file (JPEG, PNG, GIF, or WebP)'\n      }));\n      return;\n    }\n\n    // Check file size (5MB max)\n    if (file.size > 5 * 1024 * 1024) {\n      setErrors(prev => ({\n        ...prev,\n        image: 'Image size should be less than 5MB'\n      }));\n      return;\n    }\n\n    // Create preview\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const result = reader.result as string;\n      setImagePreview(result);\n      setFormData(prev => ({\n        ...prev,\n        image: file\n      }));\n    };\n    reader.readAsDataURL(file);\n    \n    // Clear any previous errors\n    if (errors.image) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors.image;\n        return newErrors;\n      });\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: Record<string, string> = {};\n    \n    if (!formData.title.trim()) {\n      newErrors.title = 'Title is required';\n    }\n    \n    if (!formData.googleDriveLink) {\n      newErrors.googleDriveLink = 'Google Drive link is required';\n    } else if (!isValidGoogleDocsUrl(formData.googleDriveLink)) {\n      newErrors.googleDriveLink = 'Please enter a valid Google Docs URL';\n    }\n    \n    // Image is optional, no validation needed beyond what's in handleFileChange\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error for the field being edited\n    if (errors[name as keyof typeof errors]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[name as keyof typeof newErrors];\n        return newErrors;\n      });\n    }\n  };\n\n\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n    \n    try {\n      const formDataToSubmit = new FormData();\n      formDataToSubmit.append('title', formData.title);\n      formDataToSubmit.append('googleDriveLink', formData.googleDriveLink);\n      \n      if (formData.image) {\n        formDataToSubmit.append('image', formData.image);\n      }\n      \n      await onSubmit(formDataToSubmit);\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      setErrors(prev => ({ \n        ...prev, \n        form: 'Failed to submit form. Please try again.' \n      }));\n    }\n  };\n\n  return (\n    <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n      <TextField\n        margin=\"normal\"\n        required\n        fullWidth\n        id=\"title\"\n        label=\"Blog Title\"\n        name=\"title\"\n        autoComplete=\"off\"\n        autoFocus\n        value={formData.title}\n        onChange={handleChange}\n        error={!!errors.title}\n        helperText={errors.title}\n        disabled={loading}\n      />\n\n      <TextField\n        margin=\"normal\"\n        required\n        fullWidth\n        name=\"googleDriveLink\"\n        label=\"Google Drive Document Link\"\n        type=\"url\"\n        id=\"googleDriveLink\"\n        autoComplete=\"off\"\n        value={formData.googleDriveLink}\n        onChange={handleChange}\n        error={!!errors.googleDriveLink}\n        helperText={\n          errors.googleDriveLink ||\n          'Make sure the document is shared with \"Anyone with the link\"'\n        }\n        disabled={loading}\n      />\n\n      <Box mt={2} mb={2}>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          Upload Blog Image (Optional)\n        </Typography>\n        <Box mb={3}>\n          <Button\n            variant=\"outlined\"\n            component=\"label\"\n            startIcon={<ImageIcon />}\n            fullWidth\n            sx={{ mb: 2 }}\n          >\n            {formData.image ? 'Change Image' : 'Select Image'}\n            <input\n              type=\"file\"\n              hidden\n              accept=\"image/*\"\n              onChange={handleFileChange}\n              ref={fileInputRef}\n            />\n          </Button>\n          \n          {errors.image && (\n            <Typography color=\"error\" variant=\"caption\" display=\"block\" sx={{ mt: 1, mb: 1 }}>\n              {errors.image}\n            </Typography>\n          )}\n          \n          {imagePreview && (\n            <Box mt={2} textAlign=\"center\">\n              <Typography variant=\"caption\" display=\"block\" gutterBottom>\n                Image Preview:\n              </Typography>\n              <Box \n                sx={{\n                  position: 'relative',\n                  maxWidth: '100%',\n                  margin: '0 auto',\n                  display: 'inline-block'\n                }}\n              >\n                <img\n                  src={imagePreview}\n                  alt=\"Preview\"\n                  style={{\n                    maxWidth: '100%',\n                    maxHeight: '300px',\n                    borderRadius: '4px',\n                    border: '1px solid #ddd',\n                    objectFit: 'contain'\n                  }}\n                />\n                <IconButton\n                  size=\"small\"\n                  onClick={() => {\n                    setImagePreview('');\n                    setFormData(prev => ({ ...prev, image: null }));\n                    if (fileInputRef.current) {\n                      fileInputRef.current.value = '';\n                    }\n                  }}\n                  sx={{\n                    position: 'absolute',\n                    top: 8,\n                    right: 8,\n                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                    color: 'white',\n                    '&:hover': {\n                      backgroundColor: 'rgba(0, 0, 0, 0.7)'\n                    }\n                  }}\n                >\n                  <Close />\n                </IconButton>\n              </Box>\n            </Box>\n          )}\n        </Box>\n      </Box>\n\n      <Box mt={3} display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n        <Button\n          onClick={onCancel}\n          variant=\"outlined\"\n          disabled={loading}\n        >\n          Cancel\n        </Button>\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={loading}\n          startIcon={loading ? <CircularProgress size={20} /> : null}\n        >\n          {initialData ? 'Update Post' : 'Create Post'}\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default BlogForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}